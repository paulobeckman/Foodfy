{% extends '../layout.njk'%}

{% block head %}
    <title>Foodfy | Receita</title>
{% endblock %}

{%block content%}
    <div class="page_information recipe">
        <div class="gallery">
            <div class="highlight">
                {% if not recipe.files[0] %}
                    <img src="http://placehold.it/500x500?text=PRODUTO SEM FOTO" />
                {% else %}
                    <img 
                        src="{{recipe.files[0].src}}" 
                        alt="{{recipe.files[0].name}}"
                        onclick="Lightbox.open()"
                    >
                {% endif %}

                <div class="lightbox_target">
                    <img src="{{recipe.files[0].src}}" alt="{{recipe.files[0].name}}">
                    <a 
                        href="#" 
                        class="lightbox_close"
                        onclick="Lightbox.close()"
                    >
                        <i class="material-icons">close</i>
                    </a>
                </div>
            </div>
            <div class="gallery_preview">
                {% for image in recipe.files %}
                    <img 
                        src="{{image.src}}" 
                        alt="{{image.name}}"
                        {% if loop.index0 == 0 %}
                            class="active"
                        {% endif %}
                        onclick="ImageGallery.setImage(event)"
                    >
                {% endfor %}
            </div>
        </div>

        <h2>{{recipe.title}}</h2>
        <p>por {{recipe.chef_name}}</p>
    </div>

    <div class="info recipe">
        <section class="topic_button" id="information">
            <h3>Ingredientes</h3>
            <h4 id = "1">ESCONDER</h4>
        </section>
        <div class="topic_content_information">
            <ul>
                {%for ingredient in recipe.ingredients%}
                    <li>{{ingredient}}</li>
                {%endfor%}
            </ul>
        </div>

        <section class="topic_button" id="information">
            <h3>Modo de preparo</h3>
            <h4 id = "2">MOSTRAR</h4>
         </section>
        <div class="topic_content_information hide">
            <ul>
                {%for preparation in recipe.preparations%}
                    <li>{{preparation}}</li>
                {%endfor%}
            </ul>
        </div>

        <section class="topic_button" id="information">
            <h3>Informações adicionais</h3>
            <h4 id = "3">MOSTRAR</h4>
        </section>
        <div class="topic_content_information hide">
            <p>{{recipe.information}}</p>
        </div>
    </div>

{% endblock %}